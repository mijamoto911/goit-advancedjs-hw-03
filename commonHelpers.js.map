{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n    <li class=\"gallery-card\">\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n      <div class=\"gallery-card-info\">\n        <p><strong>Likes:</strong> ${likes}</p>\n        <p><strong>Views:</strong> ${views}</p>\n        <p><strong>Comments:</strong> ${comments}</p>\n        <p><strong>Downloads:</strong> ${downloads}</p>\n      </div>\n    </li>\n  `;\n};\n","const API_KEY = '45206058-c611c9adec5d897ba1c6c02b0';\n\nexport const searchPhotos = searchValue => {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    searchValue\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import { createGalleryCard } from './js/render-functions';\nimport { searchPhotos } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst searchFormElement = document.querySelector('.js-search-form');\nconst galleryElements = document.querySelector('.js-gallery');\nconst loaderElement = document.querySelector('.js-loader');\nlet lightbox;\n\nconst onSearchSubmit = event => {\n  event.preventDefault();\n\n  const searchValue = event.target.elements.user_query.value.trim();\n\n  event.target.elements.user_query.value = '';\n\n  if (searchValue === '') {\n    iziToast.error({\n      message: 'Please fill in this place',\n      position: 'topRight',\n    });\n\n    return;\n  }\n\n  loaderElement.classList.remove('is-hidden');\n\n  galleryElements.innerHTML = '';\n\n  searchPhotos(searchValue)\n    .finally(() => {\n      loaderElement.classList.add('is-hidden');\n    })\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        return;\n      }\n\n      const galleryCards = hits\n        .map(imgInfo => createGalleryCard(imgInfo))\n        .join('');\n      galleryElements.innerHTML = galleryCards;\n\n      if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery-link', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong: ${error.message}`,\n      });\n    });\n};\n\nsearchFormElement.addEventListener('submit', onSearchSubmit);\n"],"names":["createGalleryCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","searchPhotos","searchValue","url","response","searchFormElement","galleryElements","loaderElement","lightbox","onSearchSubmit","event","iziToast","hits","galleryCards","imgInfo","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAoB,CAAC,CAChC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,iBAEQL,CAAa;AAAA,0CACYD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,qCAG/BC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA;AAAA,IClB5CC,EAAU,qCAEHC,EAAeC,GAAe,CAEzC,MAAMC,EAAM,gCAAmBH,CAAO,MAAM,mBAC1CE,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECTMC,EAAoB,SAAS,cAAc,iBAAiB,EAC5DC,EAAkB,SAAS,cAAc,aAAa,EACtDC,EAAgB,SAAS,cAAc,YAAY,EACzD,IAAIC,EAEJ,MAAMC,EAAiBC,GAAS,CAC9BA,EAAM,eAAc,EAEpB,MAAMR,EAAcQ,EAAM,OAAO,SAAS,WAAW,MAAM,OAI3D,GAFAA,EAAM,OAAO,SAAS,WAAW,MAAQ,GAErCR,IAAgB,GAAI,CACtBS,EAAS,MAAM,CACb,QAAS,4BACT,SAAU,UAChB,CAAK,EAED,MACD,CAEDJ,EAAc,UAAU,OAAO,WAAW,EAE1CD,EAAgB,UAAY,GAE5BL,EAAaC,CAAW,EACrB,QAAQ,IAAM,CACbK,EAAc,UAAU,IAAI,WAAW,CAC7C,CAAK,EACA,KAAK,CAAC,CAAE,KAAAK,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EAED,MACD,CAED,MAAME,EAAeD,EAClB,IAAIE,GAAWtB,EAAkBsB,CAAO,CAAC,EACzC,KAAK,EAAE,EACVR,EAAgB,UAAYO,EAExBL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBAAyBK,EAAM,OAAO,EACvD,CAAO,CACP,CAAK,CACL,EAEAX,EAAkB,iBAAiB,SAAUI,CAAc"}